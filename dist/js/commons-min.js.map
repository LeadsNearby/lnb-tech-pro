{"version":3,"sources":["commons.js"],"names":["parent","document","getElementById","new_certification_container","newCount","children","length","node","createElement","id","className","closeSpan","addEventListener","removeChild","certName","name","type","certImage","value","certImagePlaceholder","src","certImageSelect","href","appendChild","createTextNode","deleteButtons","getElementsByClassName","console","log","i","row","this","dataset","index","parentNode","jQuery","ready","$","switchTabs","tab","find","addClass","siblings","removeClass","sessionStorage","setItem","custom_uploader","getItem","click","e","preventDefault","on","selector","imageField","data","imageThumb","open","wp","media","frames","file_frame","title","button","text","multiple","state","get","first","toJSON","val","attr","sizes","thumbnail","url"],"mappings":"AAAA,aAEA,IAAIA,OAASC,SAASC,eAAe,2BAgBrC,SAASC,8BACP,IACIC,EADeJ,OAAOK,SAASC,OACL,EAC1BC,EAAON,SAASO,cAAc,OAClCD,EAAKE,GAAK,iBAAmBL,EAC7BG,EAAKG,UAAY,2BACjB,IAAIC,EAAYV,SAASO,cAAc,QACvCG,EAAUD,UAAY,wCACtBC,EAAUC,iBAAiB,QAAS,WAClCZ,OAAOa,YAAYN,KAErB,IAAIO,EAAWb,SAASO,cAAc,SACtCM,EAASC,KAAO,qCAAuCX,EAAW,UAClEU,EAASE,KAAO,OAChB,IAAIC,EAAYhB,SAASO,cAAc,SACvCS,EAAUF,KAAO,qCAAuCX,EAAW,WACnEa,EAAUD,KAAO,SACjBC,EAAUC,MAAQ,GAClB,IAAIC,EAAuBlB,SAASO,cAAc,OAClDW,EAAqBC,IAAM,IAC3B,IAAIC,EAAkBpB,SAASO,cAAc,KAC7Ca,EAAgBZ,GAAK,kBAAoBL,EACzCiB,EAAgBC,KAAO,IAEvBD,EAAgBE,YAAYtB,SAASuB,eAAe,iBAIpDjB,EAAKgB,YAAYZ,GACjBJ,EAAKgB,YAAYT,GACjBP,EAAKgB,YAAYN,GACjBV,EAAKgB,YAAYJ,GACjBZ,EAAKgB,YAAYF,GACjBrB,OAAOuB,YAAYhB,IA/CrB,WACE,IAAIkB,EAAgBxB,SAASyB,uBAAuB,cAGpD,GAFAC,QAAQC,IAAIH,EAAcnB,QAEtBmB,EAAcnB,OAChB,IAAKuB,EAAI,EAAGA,EAAIJ,EAAcnB,OAAQuB,IACpCJ,EAAcI,GAAGjB,iBAAiB,QAAS,WACzC,IAAIkB,EAAM7B,SAASC,eAAe,iBAAmB6B,KAAKC,QAAQC,OAClEH,EAAII,WAAWrB,YAAYiB,KARnC,GAkDAK,OAAOlC,UAAUmC,MAAM,SAAUC,GAC/B,SAASC,EAAWC,GAClBF,EAAE,aAAaG,KAAK,aAAeD,EAAM,KAAKE,SAAS,UAAUC,WAAWC,YAAY,UAGxFC,eAAeC,QAAQ,aAAcN,GAYvC,IAAIO,EATAF,eAAeG,QAAQ,eACzBT,EAAWM,eAAeG,QAAQ,eAGpCV,EAAE,iBAAiBW,MAAM,SAAUC,GACjCA,EAAEC,iBACFZ,EAAWP,KAAKC,QAAQO,OAI1BJ,OAAO,wBAAwBgB,GAAG,QAAS,SAAUF,GACnDA,EAAEC,iBACF,IAAIE,EAAWjB,OAAOJ,MAClBsB,EAAahB,EAAE,aAAaG,KAAK,eAAiBH,EAAEe,GAAUE,KAAK,YAAc,KACjFC,EAAalB,EAAE,aAAaG,KAAK,2BAA6BH,EAAEe,GAAUE,KAAK,YAAc,KAE7FR,EACFA,EAAgBU,SAKlBV,EAAkBW,GAAGC,MAAMC,OAAOC,WAAaH,GAAGC,MAAM,CACtDG,MAAO,eACPC,OAAQ,CACNC,KAAM,gBAERC,UAAU,KAGIb,GAAG,SAAU,WAC3B,IAAIO,EAAQZ,EAAgBmB,QAAQC,IAAI,aAAaC,QAAQC,SAC7DzC,QAAQC,IAAI8B,GACZL,EAAWgB,IAAIX,EAAMjD,IACrB8C,EAAWe,KAAK,MAAOZ,EAAMa,MAAMC,UAAUC,OAG/C3B,EAAgBU","sourcesContent":["var parent = document.getElementById('certification-container');\r\n\r\n(function () {\r\n  var deleteButtons = document.getElementsByClassName('delete-row');\r\n\r\n  console.log(deleteButtons.length);\r\n\r\n  if (deleteButtons.length) {\r\n    for (i = 0; i < deleteButtons.length; i++) {\r\n      deleteButtons[i].addEventListener('click', function () {\r\n        var row = document.getElementById(\r\n          'certification_' + this.dataset.index\r\n        );\r\n        row.parentNode.removeChild(row);\r\n      });\r\n    }\r\n  }\r\n})();\r\n\r\nfunction new_certification_container() {\r\n  var currentCount = parent.children.length;\r\n  var newCount = currentCount + 1;\r\n\r\n  var node = document.createElement('div');\r\n  node.id = 'certification_' + newCount;\r\n  node.className = 'tech-profiles-meta-field';\r\n\r\n  var closeSpan = document.createElement('span');\r\n  closeSpan.className = 'delete-row dashicons dashicons-no-alt';\r\n  closeSpan.addEventListener('click', function () {\r\n    parent.removeChild(node);\r\n  });\r\n\r\n  var certName = document.createElement('input');\r\n  certName.name = 'tech_profile_meta[certifications][' + newCount + '][name]';\r\n  certName.type = 'text';\r\n\r\n  var certImage = document.createElement('input');\r\n  certImage.name = 'tech_profile_meta[certifications][' + newCount + '][image]';\r\n  certImage.type = 'hidden';\r\n  certImage.value = '';\r\n\r\n  var certImagePlaceholder = document.createElement('img');\r\n  certImagePlaceholder.src = '#';\r\n\r\n  var certImageSelect = document.createElement('a');\r\n  certImageSelect.id = 'image_selector_' + newCount;\r\n  certImageSelect.href = '#';\r\n  // certImageSelect.onclick = function() { alert('You clicked select for cert image' + newCount ) };\r\n  certImageSelect.appendChild(document.createTextNode('Select image'));\r\n\r\n  // var spacer = document.createElement('p');\r\n  // var spacerText = document.createTextNode('Container ' + ( currentCount + 1 ) );\r\n\r\n  // spacer.appendChild( spacerText );\r\n\r\n  node.appendChild(closeSpan);\r\n  node.appendChild(certName);\r\n  node.appendChild(certImage);\r\n  node.appendChild(certImagePlaceholder);\r\n  node.appendChild(certImageSelect);\r\n\r\n  parent.appendChild(node);\r\n}\r\n\r\njQuery(document).ready(function ($) {\r\n  function switchTabs(tab) {\r\n    $('.lnb-tabs')\r\n      .find('[data-tab=' + tab + ']')\r\n      .addClass('active')\r\n      .siblings()\r\n      .removeClass('active');\r\n    // $(this).addClass('active').siblings().removeClass('active');\r\n    // $(tab).addClass('active').siblings().removeClass('active');\r\n    sessionStorage.setItem('currentTab', tab);\r\n  }\r\n\r\n  if (sessionStorage.getItem('currentTab')) {\r\n    switchTabs(sessionStorage.getItem('currentTab'));\r\n  }\r\n\r\n  $('.tab-nav-item').click(function (e) {\r\n    e.preventDefault();\r\n    switchTabs(this.dataset.tab);\r\n  });\r\n\r\n  //Admin Image loader Script\r\n  var custom_uploader;\r\n\r\n  jQuery('.upload_image_button').on('click', function (e) {\r\n    e.preventDefault();\r\n\r\n    var selector = jQuery(this);\r\n    var imageField = $('.lnb-tabs').find(\r\n      '[data-image=' + $(selector).data('selector') + ']'\r\n    );\r\n    var imageThumb = $('.lnb-tabs').find(\r\n      '[data-image-placeholder=' + $(selector).data('selector') + ']'\r\n    );\r\n    //If the uploader object has already been created, reopen the dialog\r\n    if (custom_uploader) {\r\n      custom_uploader.open();\r\n      return;\r\n    }\r\n\r\n    //Extend the wp.media object\r\n    custom_uploader = wp.media.frames.file_frame = wp.media({\r\n      title: 'Choose Image',\r\n      button: {\r\n        text: 'Choose Image',\r\n      },\r\n      multiple: false,\r\n    });\r\n\r\n    //When a file is selected, grab the URL and set it as the text field's value\r\n    custom_uploader.on('select', function () {\r\n      var media = custom_uploader.state().get('selection').first().toJSON();\r\n      console.log(media);\r\n      imageField.val(media.id);\r\n      imageThumb.attr('src', media.sizes.thumbnail.url);\r\n\r\n      // $el.closest('p').find('.upload_image').val(attachment.url);\r\n    });\r\n\r\n    //Open the uploader dialog\r\n    custom_uploader.open();\r\n  });\r\n\r\n  // //Portfolio Scroller\r\n  // var triggers = jQuery('ul.triggers li');\r\n  // var images = jQuery('ul.images li');\r\n  // var lastElem = triggers.length-1;\r\n  // var target;\r\n\r\n  // triggers.first().addClass('selected');\r\n  // images.hide().first().show();\r\n\r\n  // function sliderResponse(target) {\r\n  // \timages.fadeOut(300).eq(target).fadeIn(300);\r\n  // \ttriggers.removeClass('selected').eq(target).addClass('selected');\r\n  // }\r\n\r\n  // triggers.click(function() {\r\n  // \tif ( !jQuery(this).hasClass('selected') ) {\r\n  // \t\ttarget = jQuery(this).index();\r\n  // \t\tsliderResponse(target);\r\n  // \t\tresetTiming();\r\n  // \t}\r\n  // });\r\n  // jQuery('.next').click(function() {\r\n  // \ttarget = jQuery('ul.triggers li.selected').index();\r\n  // \ttarget === lastElem ? target = 0 : target = target+1;\r\n  // \tsliderResponse(target);\r\n  // \tresetTiming();\r\n  // });\r\n  // jQuery('.prev').click(function() {\r\n  // \ttarget = jQuery('ul.triggers li.selected').index();\r\n  // \tlastElem = triggers.length-1;\r\n  // \ttarget === 0 ? target = lastElem : target = target-1;\r\n  // \tsliderResponse(target);\r\n  // \tresetTiming();\r\n  // });\r\n  // function sliderTiming() {\r\n  // \ttarget = jQuery('ul.triggers li.selected').index();\r\n  // \ttarget === lastElem ? target = 0 : target = target+1;\r\n  // \tsliderResponse(target);\r\n  // }\r\n  // var timingRun = setInterval(function() { sliderTiming(); },5000);\r\n  // function resetTiming() {\r\n  // \tclearInterval(timingRun);\r\n  // \ttimingRun = setInterval(function() { sliderTiming(); },5000);\r\n  // }\r\n\r\n  // //Drawer slide\r\n  // jQuery('.sb_toggle').click(function() {\r\n  // jQuery(this).toggleClass('open');\r\n  // jQuery('#drawer').slideToggle('slow', function() {\r\n  // \t// Animation complete.\r\n  //   });\r\n  // });\r\n});\r\n"],"file":"commons-min.js"}